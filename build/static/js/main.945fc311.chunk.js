(this.webpackJsonpshoping_car_front=this.webpackJsonpshoping_car_front||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),u=n.n(c),i=n(16),l=n(3),o=n(15),s=n(4),m=n(2),f=n.n(m),d=function(){return f.a.get("/api/items").then((function(e){return e.data}))},p=function(e){return f.a.post("/api/items",e).then((function(e){return e.data}))},v=function(e,t){return f.a.patch("".concat("/api/items","/").concat(t),e).then((function(e){return e.data}))},E=function(e){var t=e.reference,n=e.description,a=e.vr_unit;return r.a.createElement("div",null,t,", ",n," (",a,")")},h=function(e){var t=e.msg,n=e.classStyle;return t?r.a.createElement("div",{className:n},t):null},g=function(){var e=Object(a.useState)({reference:"",description:"",currency:"",vr_unit:0,discount:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)([]),m=Object(s.a)(u,2),f=m[0],g=m[1],y=Object(a.useState)({msg:"",classStyle:""}),b=Object(s.a)(y,2),S=b[0],O=b[1],j=function(e){c(Object(o.a)({},n,Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){d().then((function(e){return g(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{msg:S.msg,classStyle:S.classStyle}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a=f.find((function(e){return e.reference===n.reference}));a?v((t=n,Object.keys(t).filter((function(e){return!!t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})),a.id).then((function(e){return g(Object(i.a)(f.map((function(t){return t.id===e.id?e:t}))))})).then((function(){O({msg:"Item added",classStyle:"success"}),setTimeout((function(){O({msg:"",classStyle:""})}),5e3)})).catch((function(e){return O({msg:"Error updating item",classStyle:"error"})})).finally((function(){return c({reference:"",description:"",currency:"",vr_unit:0,discount:0})})):p(n).then((function(e){return g(f.concat(e))})).then((function(){O({msg:"Item added",classStyle:"success"}),setTimeout((function(){O({msg:"",classStyle:""})}),5e3)})).finally((function(){return c({reference:"",description:"",currency:"",vr_unit:0,discount:0})}))}},r.a.createElement("div",null,r.a.createElement("label",null,"Reference"),r.a.createElement("input",{type:"text",name:"reference",value:n.reference,onChange:j})),r.a.createElement("div",null,r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",name:"description",value:n.description,onChange:j})),r.a.createElement("div",null,r.a.createElement("label",null,"Currency"),r.a.createElement("select",{name:"currency",value:n.currency,onChange:j},r.a.createElement("option",{value:"COP"},"COP"),r.a.createElement("option",{value:"US"},"US"),r.a.createElement("option",{value:"EUR"},"EUR"))),r.a.createElement("div",null,r.a.createElement("label",null,"Price"),r.a.createElement("input",{type:"number",name:"vr_unit",min:"0",step:"1",value:n.vr_unit,onChange:j})),r.a.createElement("div",null,r.a.createElement("label",null,"Discount"),r.a.createElement("input",{type:"number",name:"discount",min:"0",step:"1",value:n.discount,onChange:j})),r.a.createElement("button",{type:"submit"},"Save")),r.a.createElement("h3",null,"Items"),f.map((function(e){return r.a.createElement(E,Object.assign({key:e.id},e))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(39);u.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.945fc311.chunk.js.map